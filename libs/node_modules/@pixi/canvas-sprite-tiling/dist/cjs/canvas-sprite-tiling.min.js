/*!
 * @pixi/canvas-sprite-tiling - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/canvas-sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
"use strict";var spriteTiling=require("@pixi/sprite-tiling"),canvasRenderer=require("@pixi/canvas-renderer"),utils=require("@pixi/utils"),math=require("@pixi/math"),worldMatrix=new math.Matrix,patternMatrix=new math.Matrix,patternRect=[new math.Point,new math.Point,new math.Point,new math.Point];spriteTiling.TilingSprite.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.valid){var r=t.context,a=this.worldTransform,i=e.baseTexture,n=i.getDrawableSource(),s=i.resolution;if(this._textureID!==this._texture._updateID||this._cachedTint!==this.tint){this._textureID=this._texture._updateID;var h=new utils.CanvasRenderTarget(e._frame.width,e._frame.height,s);16777215!==this.tint?(this._tintedCanvas=canvasRenderer.canvasUtils.getTintedCanvas(this,this.tint),h.context.drawImage(this._tintedCanvas,0,0)):h.context.drawImage(n,-e._frame.x*s,-e._frame.y*s),this._cachedTint=this.tint,this._canvasPattern=h.context.createPattern(h.canvas,"repeat")}r.globalAlpha=this.worldAlpha,t.setBlendMode(this.blendMode),this.tileTransform.updateLocalTransform();var o=this.tileTransform.localTransform,c=this._width,p=this._height;worldMatrix.identity(),patternMatrix.copyFrom(o),this.uvRespectAnchor||patternMatrix.translate(-this.anchor.x*c,-this.anchor.y*p),worldMatrix.prepend(patternMatrix),worldMatrix.prepend(a),t.setContextTransform(worldMatrix),r.fillStyle=this._canvasPattern;var l=this.anchor.x*-c,x=this.anchor.y*-p;patternRect[0].set(l,x),patternRect[1].set(l+c,x),patternRect[2].set(l+c,x+p),patternRect[3].set(l,x+p);for(var d=0;d<4;d++)patternMatrix.applyInverse(patternRect[d],patternRect[d]);r.beginPath(),r.moveTo(patternRect[0].x,patternRect[0].y);for(d=1;d<4;d++)r.lineTo(patternRect[d].x,patternRect[d].y);r.closePath(),r.fill()}};
//# sourceMappingURL=canvas-sprite-tiling.min.js.map
