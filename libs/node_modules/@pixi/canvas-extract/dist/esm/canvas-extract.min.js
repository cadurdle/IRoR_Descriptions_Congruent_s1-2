/*!
 * @pixi/canvas-extract - v6.0.4
 * Compiled Tue, 11 May 2021 18:00:23 UTC
 *
 * @pixi/canvas-extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */
import{RenderTexture as e}from"@pixi/core";import{CanvasRenderTarget as t}from"@pixi/utils";import{Rectangle as r}from"@pixi/math";var a=new r,n=function(){function r(e){this.renderer=e}return r.prototype.image=function(e,t,r){var a=new Image;return a.src=this.base64(e,t,r),a},r.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},r.prototype.canvas=function(r){var n,o,i,s,h=this.renderer;r&&(s=r instanceof e?r:h.generateTexture(r)),s?(n=s.baseTexture._canvasRenderTarget.context,o=s.baseTexture._canvasRenderTarget.resolution,i=s.frame):(n=h.rootContext,o=h.resolution,(i=a).width=this.renderer.width,i.height=this.renderer.height);var u=Math.floor(i.width*o+1e-4),c=Math.floor(i.height*o+1e-4),g=new t(u,c,1),p=n.getImageData(i.x*o,i.y*o,u,c);return g.context.putImageData(p,0,0),g.canvas},r.prototype.pixels=function(t){var r,n,o,i,s=this.renderer;t&&(i=t instanceof e?t:s.generateTexture(t)),i?(r=i.baseTexture._canvasRenderTarget.context,n=i.baseTexture._canvasRenderTarget.resolution,o=i.frame):(r=s.rootContext,(o=a).width=s.width,o.height=s.height);var h=o.x*n,u=o.y*n,c=o.width*n,g=o.height*n;return r.getImageData(h,u,c,g).data},r.prototype.destroy=function(){this.renderer=null},r}();export{n as CanvasExtract};
//# sourceMappingURL=canvas-extract.min.js.map
